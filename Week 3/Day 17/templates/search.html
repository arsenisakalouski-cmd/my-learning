{% extends "base.html" %}

{% block title %}–ü–æ–∏—Å–∫: {{ query }} - –ë–ª–æ–≥{% endblock %}

{% block content %}
    <h1>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞: "{{ query }}"</h1>
    
    {% if posts %}
        <p class="search-info">–ù–∞–π–¥–µ–Ω–æ –ø–æ—Å—Ç–æ–≤: {{ posts | length }}</p>
        
        <div class="posts-grid">
            {% for post in posts %}
                <article class="post-card">
                    <h2>
                        <a href="{{ url_for('view_post', post_id=post.id) }}">
                            {{ post.title }}
                        </a>
                    </h2>
                    
                    <div class="post-meta">
                        <span>‚úçÔ∏è {{ post.author }}</span>
                        <span>üëÅÔ∏è {{ post.views }}</span>
                        <span>üí¨ {{ post.comment_count }}</span>
                        <span>üïê {{ post.created_at | timeago }}</span>
                    </div>
                    
                    <p class="post-excerpt">
                        {{ post.content[:150] }}...
                    </p>
                    
                    <a href="{{ url_for('view_post', post_id=post.id) }}" class="btn-read">
                        –ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ ‚Üí
                    </a>
                </article>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <h2>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h2>
            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å</p>
            <a href="{{ url_for('index') }}" class="btn btn-primary">
                ‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é
            </a>
        </div>
    {% endif %}
{% endblock %}