
import seaborn as sns              # Seaborn - для визуализации
import matplotlib.pyplot as plt    # Matplotlib - базовая библиотека
import pandas as pd                # Pandas - для работы с данными
import numpy as np                 # NumPy - для числовых операций

print("="*60)
print("ОСНОВЫ Seaborn - ПОДРОБНОЕ ОБЪЯСНЕНИЕ")
print("="*60)

print("\n1. Встроенные стили Seaborn:")

# Seaborn имеет готовые темы (стили)
sns.set_theme()  # Применить стиль Seaborn по умолчанию

"""
Что делает sns.set_theme():
- Меняет цвета на более приятные
- Добавляет сетку
- Улучшает шрифты
- Делает графики "профессиональными"

Это как применить красивый фильтр к фотографии!
"""

print("✓ Стиль Seaborn применён")


print("\n2. Создание данных для примеров:")

# Создадим простую таблицу с оценками студентов
data = {
    'Студент': ['Иван', 'Мария', 'Пётр', 'Анна', 'Сергей', 
                'Ольга', 'Дмитрий', 'Елена', 'Алексей', 'Наталья'],
    'Математика': [85, 90, 75, 95, 80, 88, 92, 78, 85, 90],
    'Физика': [78, 85, 70, 90, 75, 82, 88, 72, 80, 85],
    'Химия': [82, 88, 78, 92, 85, 90, 85, 80, 88, 92],
    'Группа': ['А', 'Б', 'А', 'Б', 'А', 'Б', 'А', 'Б', 'А', 'Б']
}

# Преобразуем словарь в DataFrame (таблицу pandas)
df = pd.DataFrame(data)

print("\nНаша таблица данных:")
print(df)

"""
DataFrame - это как таблица в Excel:
- Строки = студенты
- Столбцы = предметы
- Каждая ячейка = оценка

Пример одной строки:
Студент: Иван, Математика: 85, Физика: 78...
"""

print("\n3. Первый график - линейный:")

# Создать окно для графика (как холст для рисования)
plt.figure(figsize=(10, 6))
"""
figsize=(10, 6) означает:
- 10 = ширина в дюймах
- 6 = высота в дюймах
Больше числа = больше график
"""

# Нарисовать линию
sns.lineplot(data=df, x='Студент', y='Математика')
"""
Разберём построчно:

sns.lineplot - функция для линейного графика
data=df - откуда брать данные (наша таблица)
x='Студент' - что по горизонтали (имена студентов)
y='Математика' - что по вертикали (оценки по математике)

Результат: линия, соединяющая точки с оценками
"""

# Добавить заголовок
plt.title('Оценки по математике', fontsize=16, fontweight='bold')
"""
fontsize=16 - размер шрифта
fontweight='bold' - жирный шрифт
"""

# Повернуть подписи на оси X (чтобы имена не перекрывались)
plt.xticks(rotation=45)
"""
rotation=45 - повернуть на 45 градусов
Без этого длинные имена наложатся друг на друга
"""

# Автоматически подогнать размеры (чтобы всё влезло)
plt.tight_layout()

# ПОКАЗАТЬ график на экране
plt.show()
"""
plt.show() - ОЧЕНЬ ВАЖНО!
Без этого график не появится!
Это как нажать "печать" после создания документа
"""

print("✓ Линейный график показан")


# ============================================
# ШАГ 5: СТОЛБЧАТАЯ ДИАГРАММА
# ============================================

print("\n4. Столбчатая диаграмма:")

# Снова создаём окно (новый график)
plt.figure(figsize=(10, 6))

# Рисуем столбцы
sns.barplot(data=df, x='Студент', y='Физика', hue='Группа')
"""
Что нового:

hue='Группа' - ЦВЕТ зависит от группы
- Группа А = один цвет
- Группа Б = другой цвет

Это автоматически:
1. Раскрасит столбцы
2. Создаст легенду (подсказку о цветах)
3. Сделает график информативнее
"""

plt.title('Оценки по физике (по группам)', fontsize=16, fontweight='bold')
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()

print("✓ Столбчатая диаграмма показана")


# ============================================
# ШАГ 6: ДИАГРАММА РАССЕЯНИЯ (SCATTER)
# ============================================

print("\n5. Диаграмма рассеяния (связь между предметами):")

plt.figure(figsize=(10, 6))

# Рисуем точки
sns.scatterplot(data=df, x='Математика', y='Физика', 
                hue='Группа', s=100)
"""
Этот график показывает СВЯЗЬ между оценками:

x='Математика' - оценка по математике (горизонталь)
y='Физика' - оценка по физике (вертикаль)
s=100 - размер точек (больше = крупнее)

Каждая точка = один студент
Позиция точки = его оценки по обоим предметам

Пример:
Если точка в правом верхнем углу = 
студент хорош И по математике, И по физике
"""

plt.title('Связь между математикой и физикой', fontsize=16, fontweight='bold')
plt.grid(True, alpha=0.3)  # Добавить сетку (слабую, alpha=прозрачность)
plt.tight_layout()
plt.show()

print("✓ Диаграмма рассеяния показана")


# ============================================
# ШАГ 7: ГИСТОГРАММА (РАСПРЕДЕЛЕНИЕ)
# ============================================

print("\n6. Гистограмма - распределение оценок:")

plt.figure(figsize=(10, 6))

# Рисуем гистограмму
sns.histplot(data=df['Математика'], bins=5, kde=True)
"""
Гистограмма показывает КАК ЧАСТО встречаются оценки:

data=df['Математика'] - берём ТОЛЬКО столбец с математикой
bins=5 - разделить на 5 интервалов
       (70-75, 75-80, 80-85, 85-90, 90-95)
kde=True - добавить плавную кривую распределения
       (красивая линия поверх столбцов)

Высокий столбец = много студентов с такими оценками
Низкий столбец = мало студентов
"""

plt.title('Распределение оценок по математике', fontsize=16, fontweight='bold')
plt.xlabel('Оценка')
plt.ylabel('Количество студентов')
plt.tight_layout()
plt.show()

print("✓ Гистограмма показана")

# ============================================
# ШАГ 8: ЯЩИК С УСАМИ (BOX PLOT)
# ============================================

print("\n7. Ящик с усами - статистика:")

plt.figure(figsize=(10, 6))

# Подготовить данные в "длинном" формате
df_long = df.melt(id_vars=['Студент', 'Группа'], 
                  value_vars=['Математика', 'Физика', 'Химия'],
                  var_name='Предмет', value_name='Оценка')
"""
melt() - преобразует "широкую" таблицу в "длинную"

БЫЛО (широкая):
Студент | Математика | Физика | Химия
Иван    | 85         | 78     | 82

СТАЛО (длинная):
Студент | Предмет    | Оценка
Иван    | Математика | 85
Иван    | Физика     | 78
Иван    | Химия      | 82

Это нужно для некоторых графиков Seaborn
"""

sns.boxplot(data=df_long, x='Предмет', y='Оценка')
"""
Box plot (ящик с усами) показывает СТАТИСТИКУ:

[    |----[  ☐  ]-------|    ]
     ^    ^   ^   ^      ^
     min  25% med 75%   max

Ящик = где находится большинство (50% студентов)
Линия в ящике = медиана (средний студент)
Усы = разброс данных
Точки отдельно = выбросы (необычные значения)
"""

plt.title('Статистика по предметам', fontsize=16, fontweight='bold')
plt.tight_layout()
plt.show()

print("✓ Ящик с усами показан")

print("\n8. Тепловая карта - корреляция:")

plt.figure(figsize=(8, 6))

# Вычислить корреляцию между предметами
correlation = df[['Математика', 'Физика', 'Химия']].corr()
"""
corr() - вычисляет КОРРЕЛЯЦИЮ (связь) между столбцами

Результат - таблица чисел от -1 до 1:
- 1.0 = идеальная связь (если одно растёт, другое тоже)
- 0.0 = нет связи
- -1.0 = обратная связь (одно растёт, другое падает)

Пример:
Если математика связана с физикой = 0.8
Значит кто хорош в математике, обычно хорош и в физике
"""

print("\nТаблица корреляций:")
print(correlation)

# Нарисовать тепловую карту
sns.heatmap(correlation, annot=True, cmap='coolwarm', 
            vmin=-1, vmax=1, center=0)
"""
annot=True - показать числа в ячейках
cmap='coolwarm' - цветовая схема (синий-белый-красный)
vmin=-1, vmax=1 - диапазон значений
center=0 - белый цвет = 0 (нет связи)

Цвета:
Красный = сильная положительная связь
Синий = сильная отрицательная связь
Белый = нет связи
"""

plt.title('Связь между предметами', fontsize=16, fontweight='bold')
plt.tight_layout()
plt.show()

print("✓ Тепловая карта показана")



print("\n" + "="*60)
print("ИТОГИ - ЧТО МЫ УЗНАЛИ:")
print("="*60)
print("""
1. SEABORN vs MATPLOTLIB:
   - Seaborn = красиво и быстро
   - Matplotlib = гибко, но долго

2. ОСНОВНЫЕ ГРАФИКИ:
   - lineplot() - линии (тренды)
   - barplot() - столбцы (сравнение)
   - scatterplot() - точки (связь)
   - histplot() - распределение
   - boxplot() - статистика
   - heatmap() - тепловая карта

3. ВАЖНЫЕ ПАРАМЕТРЫ:
   - data= - откуда данные
   - x= - горизонтальная ось
   - y= - вертикальная ось
   - hue= - цвет по категории

4. НЕ ЗАБЫВАЙТЕ:
   - plt.figure() - создать окно
   - plt.show() - показать график
   - plt.tight_layout() - подогнать размеры

5. ПРИМЕНЕНИЕ:
   - Анализ данных
   - Отчёты
   - Презентации
   - Научные работы
""")

print("=" * 60)