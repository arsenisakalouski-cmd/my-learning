import numpy as np
import matplotlib.pyplot as plt
from sklearn.linear_model import LinearRegression

print("="*60)
print("–ú–ê–®–ò–ù–ù–û–ï –û–ë–£–ß–ï–ù–ò–ï - –ü–†–û–°–¢–ê–Ø –ê–ù–ê–õ–û–ì–ò–Ø")
print("="*60)

print("\n" + "="*60)
print("–ü–†–ò–ú–ï–†: –ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ–º —Ü–µ–Ω—É –º–æ—Ä–æ–∂–µ–Ω–æ–≥–æ")
print("="*60)

# –®–ê–ì 1: –ù–∞—à–∏ –ø—Ä–∏–º–µ—Ä—ã (–î–ê–ù–ù–´–ï)
print("\n–®–∞–≥ 1: –°–æ–±–∏—Ä–∞–µ–º –ø—Ä–∏–º–µ—Ä—ã")

sh–∞—Ä–∏–∫–∏ = np.array([1, 2, 3, 4, 5])  # X - —á—Ç–æ –º—ã –ó–ù–ê–ï–ú
—Ü–µ–Ω–∞ = np.array([50, 100, 150, 200, 250])  # y - —á—Ç–æ —Ö–æ—Ç–∏–º –ü–†–ï–î–°–ö–ê–ó–ê–¢–¨

print("\n–ü—Ä–∏–º–µ—Ä—ã –∏–∑ –∂–∏–∑–Ω–∏:")
for s, c in zip(sh–∞—Ä–∏–∫–∏, —Ü–µ–Ω–∞):
    print(f"  {s} —à–∞—Ä–∏–∫(–æ–≤) ‚Üí {c} —Ä—É–±")

# –®–ê–ì 2: –ì–æ—Ç–æ–≤–∏–º –¥–ª—è –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
print("\n–®–∞–≥ 2: –ì–æ—Ç–æ–≤–∏–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–æ–º–ø—å—é—Ç–µ—Ä–∞")

X = sh–∞—Ä–∏–∫–∏.reshape(-1, 1)  # –ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –≤ —Å—Ç–æ–ª–±–µ—Ü
y = —Ü–µ–Ω–∞

print(f"  X (—à–∞—Ä–∏–∫–∏): {X.flatten()}")
print(f"  y (—Ü–µ–Ω–∞): {y}")

# –®–ê–ì 3: –°–æ–∑–¥–∞—ë–º "—É—á–µ–Ω–∏–∫–∞" (–º–æ–¥–µ–ª—å)
print("\n–®–∞–≥ 3: –°–æ–∑–¥–∞—ë–º –º–æ–¥–µ–ª—å (—ç—Ç–æ –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å —É—á–µ–Ω–∏–∫–∞)")

model = LinearRegression()
print("  ‚úì –ú–æ–¥–µ–ª—å —Å–æ–∑–¥–∞–Ω–∞ (–ø–æ–∫–∞ –Ω–∏—á–µ–º—É –Ω–µ –æ–±—É—á–µ–Ω–∞)")

# –®–ê–ì 4: –£–ß–ò–ú –º–æ–¥–µ–ª—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö
print("\n–®–∞–≥ 4: –û–ë–£–ß–ê–ï–ú –º–æ–¥–µ–ª—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö")

model.fit(X, y)
"""
–ß–¢–û –ü–†–û–ò–°–•–û–î–ò–¢:
–ö–æ–º–ø—å—é—Ç–µ—Ä —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä—ã –∏ –ø–æ–Ω–∏–º–∞–µ—Ç:
"–ê–≥–∞! –ö–∞–∂–¥—ã–π —à–∞—Ä–∏–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç 50 —Ä—É–±–ª–µ–π!"
"""

print("  ‚úì –ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞!")
print(f"\n  –ú–æ–¥–µ–ª—å –ø–æ–Ω—è–ª–∞ –ø—Ä–∞–≤–∏–ª–æ:")
print(f"  —Ü–µ–Ω–∞ = {model.coef_[0]:.0f} √ó —à–∞—Ä–∏–∫–∏ + {model.intercept_:.0f}")
print(f"  (–∫–∞–∂–¥—ã–π —à–∞—Ä–∏–∫ —Å—Ç–æ–∏—Ç {model.coef_[0]:.0f} —Ä—É–±)")

# –®–ê–ì 5: –ü–†–û–í–ï–†–Ø–ï–ú - –º–æ–∂–µ—Ç –ª–∏ –º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å?
print("\n–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è")

# –ü—Ä–æ—Å–∏–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å –¥–ª—è –ù–û–í–´–• –∑–Ω–∞—á–µ–Ω–∏–π
–Ω–æ–≤—ã–µ_—à–∞—Ä–∏–∫–∏ = np.array([[6], [7], [10]])
–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è = model.predict(–Ω–æ–≤—ã–µ_—à–∞—Ä–∏–∫–∏)

print("\n  –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –º–æ–¥–µ–ª–∏:")
for s, p in zip(–Ω–æ–≤—ã–µ_—à–∞—Ä–∏–∫–∏.flatten(), –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è):
    print(f"  {s} —à–∞—Ä–∏–∫–æ–≤ ‚Üí {p:.0f} —Ä—É–±")

print("\n  –ü–†–ê–í–ò–õ–¨–ù–û! –ú–æ–¥–µ–ª—å –Ω–∞—É—á–∏–ª–∞—Å—å! ‚úì")

# –®–ê–ì 6: –†–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫
print("\n–®–∞–≥ 6: –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ–º")

plt.figure(figsize=(10, 6))

# –ù–∞—à–∏ –ø—Ä–∏–º–µ—Ä—ã (—Å–∏–Ω–∏–µ —Ç–æ—á–∫–∏)
plt.scatter(sh–∞—Ä–∏–∫–∏, —Ü–µ–Ω–∞, s=200, color='blue', 
            label='–ü—Ä–∏–º–µ—Ä—ã –∏–∑ –∂–∏–∑–Ω–∏', zorder=3)

# –¢–æ, —á—Ç–æ –º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç (–∫—Ä–∞—Å–Ω–∞—è –ª–∏–Ω–∏—è)
X_line = np.array([[0], [1], [2], [3], [4], [5], [6], [7], [8], [9], [10]])
y_line = model.predict(X_line)
plt.plot(X_line, y_line, 'r-', linewidth=3, 
         label='–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –º–æ–¥–µ–ª–∏', zorder=2)

# –ù–æ–≤—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è (–∑–µ–ª—ë–Ω—ã–µ —Ç–æ—á–∫–∏)
plt.scatter(–Ω–æ–≤—ã–µ_—à–∞—Ä–∏–∫–∏, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è, s=200, 
            color='green', marker='*', 
            label='–ù–æ–≤—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è', zorder=3)

plt.title('üç¶ –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ: –¶–µ–Ω–∞ –º–æ—Ä–æ–∂–µ–Ω–æ–≥–æ', 
          fontsize=16, fontweight='bold')
plt.xlabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞—Ä–∏–∫–æ–≤', fontsize=14)
plt.ylabel('–¶–µ–Ω–∞ (—Ä—É–±)', fontsize=14)
plt.legend(fontsize=12)
plt.grid(True, alpha=0.3)
plt.tight_layout()
plt.show()


print("\n" + "="*60)
print("–û–°–ù–û–í–ù–´–ï –ö–û–ù–¶–ï–ü–¶–ò–ò:")
print("="*60)

print("""
1. –î–ê–ù–ù–´–ï (X, y):
   X = —à–∞—Ä–∏–∫–∏ (—á—Ç–æ –º—ã –ó–ù–ê–ï–ú)
   y = —Ü–µ–Ω–∞ (—á—Ç–æ —Ö–æ—Ç–∏–º –£–ó–ù–ê–¢–¨)
   
   –ê–Ω–∞–ª–æ–≥–∏—è: –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è —É—á—ë–±—ã
   –õ–∏—Ü–æ = –≤–æ–ø—Ä–æ—Å (X)
   –û–±–æ—Ä–æ—Ç = –æ—Ç–≤–µ—Ç (y)

2. –ú–û–î–ï–õ–¨:
   "–£—á–µ–Ω–∏–∫", –∫–æ—Ç–æ—Ä—ã–π —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä—ã
   –∏ –∏—â–µ—Ç –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å
   
   model = LinearRegression()
   –≠—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ "—É—á–µ–Ω–∏–∫–∞"

3. –û–ë–£–ß–ï–ù–ò–ï (fit):
   model.fit(X, y)
   "–£—á–µ–Ω–∏–∫" —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã
   –∏ –ø–æ–Ω–∏–º–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–æ
   
   –ê–Ω–∞–ª–æ–≥–∏—è: —à–∫–æ–ª—å–Ω–∏–∫ —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á–∏
   –∏–∑ —É—á–µ–±–Ω–∏–∫–∞

4. –ü–†–ï–î–°–ö–ê–ó–ê–ù–ò–ï (predict):
   model.predict([[6]])
   "–£—á–µ–Ω–∏–∫" –ø—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ
   –∫ –Ω–æ–≤—ã–º –¥–∞–Ω–Ω—ã–º
   
   –ê–Ω–∞–ª–æ–≥–∏—è: —à–∫–æ–ª—å–Ω–∏–∫ —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É
   –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–µ

5. –†–ï–ó–£–õ–¨–¢–ê–¢:
   –ú–æ–¥–µ–ª—å = –ø—Ä–∞–≤–∏–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞—à—ë–ª –∫–æ–º–ø—å—é—Ç–µ—Ä
   "—Ü–µ–Ω–∞ = 50 √ó —à–∞—Ä–∏–∫–∏ + 0"
""")

# ============================================
# –ï–©–Å –û–î–ò–ù –ü–†–ò–ú–ï–†
# ============================================

print("\n" + "="*60)
print("–ï–©–Å –ü–†–ò–ú–ï–†: –í—ã—Å–æ—Ç–∞ –∏ –≤–µ—Å")
print("="*60)

print("""
–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: —Ö–æ—Ç–∏–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å –≤–µ—Å –ø–æ —Ä–æ—Å—Ç—É

–ü—Ä–∏–º–µ—Ä—ã:
- –†–æ—Å—Ç 150 —Å–º ‚Üí –í–µ—Å 45 –∫–≥
- –†–æ—Å—Ç 160 —Å–º ‚Üí –í–µ—Å 55 –∫–≥
- –†–æ—Å—Ç 170 —Å–º ‚Üí –í–µ—Å 65 –∫–≥
- –†–æ—Å—Ç 180 —Å–º ‚Üí –í–µ—Å 75 –∫–≥

–ó–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å:
"–ö–∞–∂–¥—ã–µ 10 —Å–º —Ä–æ—Å—Ç–∞ = –ø—Ä–∏–º–µ—Ä–Ω–æ +10 –∫–≥ –≤–µ—Å–∞"

ML –¥–µ–ª–∞–µ—Ç –¢–û –ñ–ï –°–ê–ú–û–ï!
""")

# –î–∞–Ω–Ω—ã–µ
—Ä–æ—Å—Ç = np.array([150, 160, 170, 180]).reshape(-1, 1)
–≤–µ—Å = np.array([45, 55, 65, 75])

# –ú–æ–¥–µ–ª—å
model2 = LinearRegression()
model2.fit(—Ä–æ—Å—Ç, –≤–µ—Å)

# –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
–Ω–æ–≤—ã–π_—Ä–æ—Å—Ç = np.array([[175]])
–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π_–≤–µ—Å = model2.predict(–Ω–æ–≤—ã–π_—Ä–æ—Å—Ç)

print(f"\n–í–æ–ø—Ä–æ—Å: –°–∫–æ–ª—å–∫–æ –≤–µ—Å–∏—Ç —á–µ–ª–æ–≤–µ–∫ —Ä–æ—Å—Ç–æ–º 175 —Å–º?")
print(f"–ú–æ–¥–µ–ª—å: ~{–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π_–≤–µ—Å[0]:.0f} –∫–≥")
print(f"(–õ–æ–≥–∏–∫–∞: –º–µ–∂–¥—É 170 –∏ 180, –∑–Ω–∞—á–∏—Ç –º–µ–∂–¥—É 65 –∏ 75)")

# ============================================
# –í–ê–ñ–ù–´–ï –ü–†–ê–í–ò–õ–ê
# ============================================

print("\n" + "="*60)
print("3 –í–ê–ñ–ù–´–• –ü–†–ê–í–ò–õ–ê ML:")
print("="*60)

print("""
–ü–†–ê–í–ò–õ–û 1: –ù—É–∂–Ω—ã –ø—Ä–∏–º–µ—Ä—ã (–¥–∞–Ω–Ω—ã–µ)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ú–ù–û–ì–û      ‚îÇ  ‚Üê –õ—É—á—à–µ
‚îÇ  –ø—Ä–∏–º–µ—Ä–æ–≤   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ú–ê–õ–û       ‚îÇ  ‚Üê –•—É–∂–µ
‚îÇ  –ø—Ä–∏–º–µ—Ä–æ–≤   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–†–ê–í–ò–õ–û 2: –ü—Ä–æ–≤–µ—Ä—è–π –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –û–ë–£–ß–ï–ù–ò–ï    ‚îÇ  –ü–†–û–í–ï–†–ö–ê    ‚îÇ
‚îÇ  (70% –¥–∞–Ω–Ω—ã—Ö)‚îÇ  (30% –¥–∞–Ω–Ω—ã—Ö)‚îÇ
‚îÇ              ‚îÇ              ‚îÇ
‚îÇ  –£—á–∏–º—Å—è —Ç—É—Ç ‚Üí‚îÇ‚Üê –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç—É—Ç‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–†–ê–í–ò–õ–û 3: –ü—Ä–æ—Å—Ç–æ–µ ‚Üí –°–ª–æ–∂–Ω–æ–µ
‚ë† –ù–∞—á–Ω–∏ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ (–ª–∏–Ω–∏—è)
‚ë° –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí —É—Å–ª–æ–∂–Ω—è–π
‚ë¢ –ù–µ —É—Å–ª–æ–∂–Ω—è–π –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã
""")

